
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    

    
      <title>Pipeline – how we collect and process data | Digital Land</title>
    
    <link rel="stylesheet" media="screen" href="/stylesheets/govuk-template.css?0.24.0"/>
    
    
    
    <link rel="stylesheet" media="print" href="/stylesheets/govuk-template-print.css?0.24.0"/>
    <link rel="stylesheet" media="all" href="/stylesheets/fonts.css?0.24.0"/>
    
    <link rel="shortcut icon" href="/images/favicon.ico?0.24.0" type="image/x-icon" />
    <link rel="mask-icon" href="/images/gov.uk_logotype_crown.svg?0.24.0" color="#0b0c0c">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png?0.24.0">
    <link rel="apple-touch-icon" sizes="167x167" href="/images/apple-touch-icon-167x167.png?0.24.0">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png?0.24.0">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png?0.24.0">
    <meta name="theme-color" content="#0b0c0c" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="/images/opengraph-image.png?0.24.0">
    <meta property="description" content="One of our principles is that data should be maintained as close to the source as possible. This means that we often have to bring together over 350 sources to make one national dataset.
Our “pipeline” describes the steps we take to collect data from each of those sources and transform them into a national dataset.
We support publishers of data by providing guidance and tools to help ensure their data meets the data standard.">
    
      <link rel="stylesheet" media="all" href="/stylesheets/main.css" />
    
  </head>

  <body class="">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    

    <div id="skiplink-container">
      <div>
        <a href="#content" class="skiplink">Skip to main content</a>
      </div>
    </div>

    <div id="global-cookie-message">
        <p>We use cookies on this site to help us make it better. <a href="/cookies">Find out more about cookies</a></p>
    </div>


    <header role="banner" id="global-header" class=" with-proposition">
      <div class="header-wrapper">
        
        
			  <div class="header-proposition">
			    <div class="content">
			      <a href="#proposition-links" class="js-header-toggle menu">Menu</a>
			      <nav id="proposition-menu">
			        <a href="/" id="proposition-name">
			          
			            Digital Land
			          
			        </a>

			        <ul id="proposition-links">
  
  
    <li><a href="/about">Team</a></li>
  
    <li><a href="/project/">Projects</a></li>
  
    <li><a href="/weeknote/">Weeknotes</a></li>
  
    <li><a href="/blog-post/">Blog</a></li>
  
    <li><a href="/guidance/">Guidance</a></li>
  
    <li><a href="/dataset/">Datasets</a></li>
  
    <li><a href="/organisation/">Organisations</a></li>
  
    <li><a href="/map/">Map</a></li>
  
</ul>


			      </nav>
			    </div>
			  </div>
				
      </div>
    </header>


    

    <div id="global-header-bar"></div>

    <div class="govuk-width-container">
      <div class="govuk-phase-banner">
  <p class="govuk-phase-banner__content"><strong class="govuk-tag govuk-phase-banner__content__tag ">
  Prototype
</strong>
    <span class="govuk-phase-banner__text">
      This is a prototype.
    </span>
  </p>
</div>

    </div>


    
		<div id="content" class="govuk-width-container">
      

<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    
  
    
  
    
  
  
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="https://digital-land.github.io/">Digital Land</a>
    </li>
  

  
  
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="https://digital-land.github.io/guidance/">Guidance</a>
    </li>
  

  
  
    <li class="govuk-breadcrumbs__list-item" aria-current="page">Pipeline – how we collect and process data</li>
  

  </ol>
</div>
      <main class="govuk-main-wrapper">
			

	<div class="govuk-grid-row">
		<div class="govuk-grid-column-two-thirds">
      <span class="govuk-caption-xl">Guidance</span>
    	<h1 class="govuk-heading-xl">
    	  Pipeline – how we collect and process data
    	</h1>
		</div>
	</div>

	<div class="govuk-grid-row">
		<div class="govuk-grid-column-two-thirds markdown-output">
			

<p>One of our principles is that data should be maintained as close to the source as possible. This means that we often have to bring together over 350 sources to make one national dataset.</p>

<p>Our “pipeline” describes the steps we take to collect data from each of those sources and transform them into a national dataset.</p>

<p>We support publishers of data by providing guidance and tools to help ensure their data meets the data standard. Any changes that we make to the data as it passes through the pipeline brings a risk that we’ll introduce errors.</p>

<div class="highlight-box--cta">
  <p>For any resource you can view its state at each step in the pipeline, allowing you to see what we have changed.</p>

</div>

<p><a data-flickr-embed="true" href="https://www.flickr.com/photos/mattlucht/49547009136/in/datetaken-public/" title="Brownfield_Land_Report_-_Google_Slides"><img src="https://live.staticflickr.com/65535/49547009136_f3c86e9e31_b.jpg" alt="Brownfield_Land_Report_-_Google_Slides"></a></p>

<p>The pipeline follows these steps:</p>

<ol>
<li>Collect</li>
<li>Convert</li>
<li>Normalise</li>
<li>Map</li>
<li>Harmonise</li>
<li>Transform</li>
</ol>

<h2 id="1-collect">1. Collect</h2>

<p>The collector’s primary purpose is to gather all of the resources that we know about.</p>

<p>Each night it visits every link that we know about and checks whether the URL is still valid.</p>

<p>We produce a <a href="/resource/log/2020-01-16">daily log</a> which records what the collector has found. This reports any links that cannot be accessed or if a new resource has been found at a URL.</p>

<p>If a resource has changed then we add it into our collection. As an example of a data collection, see the <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/dataset/brownfield-land.csv">brownfield collection</a>.</p>

<h2 id="2-convert">2. Convert</h2>

<p>If the collected resource is not a UTF-8 encoded CSV then we’ll try to convert it to one.</p>

<p>We can convert certain file types with varying degrees of confidence, for instance, an Excel file.</p>

<p>We are unable to reliably convert files that are in PDF or an image file so those file types will fail at this stage.</p>

<h2 id="3-normalise">3. Normalise</h2>

<p>Once we have a UTF-8 CSV file, we strip out anything that isn’t recognisable as data. For example, if a row has no values or where there are descriptions above the column headers.</p>

<h2 id="4-map-the-headers">4. Map the headers</h2>

<p>Next, we check (or “map”) the column headers in the resource against those in the data standard.</p>

<p>If we have made any changes to the data standard over time, sometimes the header names in a published resource haven’t been updated to meet the new standard.</p>

<p>Or there might be typos that we can identify and correctly map. For instance, we can confidently map both <code>HazourdousSubstances</code> and <code>HazardousSubtances</code> to the correct header: <code>HazardousSubstances</code>.</p>

<div class="highlight-box--cta">
  <p>Here you can see that there are ~800 different <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/index/count/column.csv">column headers</a> that appear in the brownfield land data collection, that we attempted to map against 20 headers in the standard.</p>

</div>

<h2 id="5-harmonise">5. Harmonise</h2>

<p>We then look at the values in the data and check that everything is consistent with the data standard. This step can be the trickiest to implement with certainty as it involves an element of interpreting what the data publisher meant.
<code>yes</code> has been entered as <code>Y</code>, can confidently be changed. But an incorrect date of <code>2019-11-31</code> requires investigation to determine what the correct date should be. For instance, it wouldn’t be safe to assume that the correct value should be <code>2019-11-30</code>.</p>

<div class="highlight-box--cta">
  <p>Here you can see the <a href="https://github.com/digital-land/brownfield-land-collection/blob/master/bin/harmonise.py">harmonisation rules that we’ve been able to automate</a> based on what we learnt through the brownfield land project.</p>

</div>

<h2 id="6-transform">6. Transform</h2>

<p>The final step takes each harmonised resource and builds a <a href="/dataset/brownfield-land/">national dataset</a>.</p>

		</div>
	</div>

  


      </main>
		</div>
		

  

    <footer class="govuk-footer " role="contentinfo">
      <div class="govuk-width-container ">
        <div class="govuk-footer__meta">
          <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">
            
            <h2 class="govuk-visually-hidden">Support links</h2>
            <ul class="govuk-footer__inline-list">
            
              <li class="govuk-footer__inline-list-item">
                <a class="govuk-footer__link" href="/cookies">
                  Cookies
                </a>
              </li>
            
            </ul>
            
            <p>This site has been built using <a class="govuk-footer__link" href="https://github.com/digital-land">open source</a> software, contributions are welcome.</p>

            <svg role="presentation" focusable="false" class="govuk-footer__licence-logo" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 483.2 195.7" height="17" width="41">
              <path fill="currentColor" d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
              />
            </svg>
            <span class="govuk-footer__licence-description">
              All content is available under the
              <a class="govuk-footer__link" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated
            </span>
          </div>
          <div class="govuk-footer__meta-item">
            <a class="govuk-footer__link govuk-footer__copyright-logo" href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/">© Crown copyright</a>
          </div>
        </div>
      </div>
    </footer>

    <div id="global-app-error" class="app-error hidden"></div>

    <script src="/javascripts/govuk-template.js?0.24.0"></script>

    

    <script>
      if (typeof window.GOVUK === 'undefined') document.body.className = document.body.className.replace('js-enabled', '')
    </script>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-127566551-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
